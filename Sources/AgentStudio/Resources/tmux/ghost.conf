# Ghost tmux — invisible session daemon for Agent Studio
# Minimal config: let Ghostty handle all terminal features (mouse, focus, resize).
# tmux only provides PTY persistence across app restarts.

# No prefix key — tmux won't intercept any keystrokes
set -g prefix None

# No visual chrome
set -g status off

# Terminal type — xterm-ghostty for full Ghostty capabilities
# (truecolor, curly underlines, Kitty keyboard protocol, synchronized output)
set -g default-terminal "xterm-ghostty"

# Enable mouse support so tmux handles scroll/click events.
# Without this, xterm-ghostty's SGR mouse encoding sends raw escape sequences
# that the shell prints as garbled text (e.g. "4M64;29;4M64;29;").
set -g mouse on

# No escape delay — immediate key processing
set -g escape-time 0

# Large scrollback for session persistence
set -g history-limit 50000

# Keep sessions alive when last client detaches
set -g destroy-unattached off
set -g exit-unattached off

# Unset TMUX so user can run their own tmux inside ghost sessions
set-environment -g -u TMUX
